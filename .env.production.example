# =============================================================================
# LearnAI - Production Environment Variables
# =============================================================================
# This file contains production-ready environment variable templates
# IMPORTANT: Never commit actual production values to version control
# =============================================================================

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
NODE_ENV=production
NEXT_PUBLIC_APP_URL=https://yourdomain.com
NEXT_PUBLIC_APP_NAME=LearnAI

# -----------------------------------------------------------------------------
# Database - PostgreSQL (Production)
# -----------------------------------------------------------------------------
# Use a managed PostgreSQL service for production:
# - Supabase: https://supabase.com
# - Neon: https://neon.tech (serverless, auto-scaling)
# - Railway: https://railway.app
# - Vercel Postgres: https://vercel.com/storage/postgres
# - AWS RDS, Google Cloud SQL, Azure Database
#
# IMPORTANT: Enable SSL, connection pooling, and backups
DATABASE_URL=postgresql://user:password@production-host:5432/learnai_production?sslmode=require&pgbouncer=true

# -----------------------------------------------------------------------------
# NextAuth.js Authentication (Production)
# -----------------------------------------------------------------------------
# NEXTAUTH_URL: Your production domain (must match exactly)
NEXTAUTH_URL=https://yourdomain.com

# NEXTAUTH_SECRET: CRITICAL - Must be a strong random string
# Generate with: openssl rand -base64 32
# NEVER use the same secret in development and production
NEXTAUTH_SECRET=REPLACE_WITH_STRONG_RANDOM_SECRET_MIN_32_CHARS

# -----------------------------------------------------------------------------
# Google OAuth (Production Credentials)
# -----------------------------------------------------------------------------
# Get production credentials from: https://console.cloud.google.com/apis/credentials
# 1. Create separate OAuth 2.0 Client ID for production
# 2. Add authorized redirect URI: https://yourdomain.com/api/auth/callback/google
# 3. NEVER use development credentials in production
GOOGLE_CLIENT_ID=your-production-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-your-production-client-secret

# -----------------------------------------------------------------------------
# OpenAI API (Production)
# -----------------------------------------------------------------------------
# Get your API key from: https://platform.openai.com/api-keys
# IMPORTANT:
# - Set up billing limits to avoid unexpected charges
# - Use organization keys for better tracking
# - Monitor usage regularly
OPENAI_API_KEY=sk-proj-your-production-openai-api-key

# -----------------------------------------------------------------------------
# PayPal Integration (LIVE - Production)
# -----------------------------------------------------------------------------
# Get LIVE credentials from: https://developer.paypal.com/dashboard/
# 1. Create a LIVE app (not sandbox)
# 2. Go through PayPal's app review process
# 3. Enable required features (Checkout, Payouts)
#
# CRITICAL: Set environment to "live" for production
PAYPAL_CLIENT_ID=your-live-paypal-client-id
PAYPAL_CLIENT_SECRET=your-live-paypal-client-secret
PAYPAL_ENVIRONMENT=live

# -----------------------------------------------------------------------------
# Email Service (Production - Recommended)
# -----------------------------------------------------------------------------
# Use a transactional email service:
# - SendGrid: https://sendgrid.com (12k emails/month free)
# - Postmark: https://postmarkapp.com (100 emails/month free)
# - AWS SES: https://aws.amazon.com/ses/ (62k emails/month free)
# - Mailgun: https://www.mailgun.com

# SendGrid Example:
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=SG.your-sendgrid-api-key
SMTP_FROM=noreply@yourdomain.com
SMTP_FROM_NAME=LearnAI

# AWS SES Example:
# SMTP_HOST=email-smtp.us-east-1.amazonaws.com
# SMTP_PORT=587
# SMTP_USER=your-aws-smtp-user
# SMTP_PASSWORD=your-aws-smtp-password

# -----------------------------------------------------------------------------
# Error Tracking (Production - Highly Recommended)
# -----------------------------------------------------------------------------
# Sentry: https://sentry.io (Free tier available)
# Track errors, performance issues, and user feedback
NEXT_PUBLIC_SENTRY_DSN=https://your-sentry-key@o123456.ingest.sentry.io/7654321
SENTRY_ORG=your-organization
SENTRY_PROJECT=learnai
SENTRY_AUTH_TOKEN=your-sentry-auth-token

# Error sampling (reduce costs while maintaining visibility)
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_REPLAYS_SESSION_SAMPLE_RATE=0.1
SENTRY_REPLAYS_ON_ERROR_SAMPLE_RATE=1.0

# -----------------------------------------------------------------------------
# Analytics (Production)
# -----------------------------------------------------------------------------
# Google Analytics 4
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# PostHog (Product Analytics - Alternative to GA)
# NEXT_PUBLIC_POSTHOG_KEY=phc_your_posthog_project_key
# NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# Vercel Analytics (automatically enabled on Vercel Pro/Enterprise)

# -----------------------------------------------------------------------------
# File Storage (Production - Optional)
# -----------------------------------------------------------------------------
# For user avatars, uploaded documents, etc.

# AWS S3 Example:
AWS_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
AWS_REGION=us-east-1
AWS_S3_BUCKET=learnai-production-uploads
NEXT_PUBLIC_AWS_S3_BUCKET_URL=https://learnai-production-uploads.s3.amazonaws.com

# Cloudinary Example (easier setup):
# NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME=your-cloud-name
# CLOUDINARY_API_KEY=123456789012345
# CLOUDINARY_API_SECRET=your-cloudinary-secret

# -----------------------------------------------------------------------------
# Rate Limiting & Caching (Production - Recommended)
# -----------------------------------------------------------------------------
# Redis for rate limiting, caching, and session storage
# Upstash Redis (Serverless, Vercel-compatible): https://upstash.com
UPSTASH_REDIS_REST_URL=https://your-redis-endpoint.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-upstash-token

# Traditional Redis (if self-hosted or AWS ElastiCache):
# REDIS_URL=redis://:password@production-redis-host:6379

# Rate limiting configuration
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000

# -----------------------------------------------------------------------------
# Security (Production)
# -----------------------------------------------------------------------------
# Allowed origins for CORS (comma-separated)
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Content Security Policy
CSP_REPORT_URI=https://yourdomain.com/api/csp-report

# API Keys encryption
ENCRYPTION_KEY=your-32-char-encryption-key-here

# -----------------------------------------------------------------------------
# Microsoft Teams Integration (Optional)
# -----------------------------------------------------------------------------
# For video conferencing features
# Get from: https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps
MICROSOFT_CLIENT_ID=your-microsoft-app-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-app-client-secret
MICROSOFT_TENANT_ID=your-microsoft-tenant-id
MICROSOFT_REDIRECT_URI=https://yourdomain.com/api/auth/callback/microsoft

# -----------------------------------------------------------------------------
# Feature Flags (Production)
# -----------------------------------------------------------------------------
# Control feature availability in production
NEXT_PUBLIC_ENABLE_WHITEBOARD=true
NEXT_PUBLIC_ENABLE_AI_MATCHING=true
NEXT_PUBLIC_ENABLE_PAYMENTS=true
NEXT_PUBLIC_ENABLE_VIDEO_CALLS=true
NEXT_PUBLIC_MAINTENANCE_MODE=false

# -----------------------------------------------------------------------------
# Logging & Monitoring (Production)
# -----------------------------------------------------------------------------
LOG_LEVEL=info
LOG_FORMAT=json
ENABLE_QUERY_LOGGING=false

# DataDog (APM & Infrastructure Monitoring)
# DD_API_KEY=your-datadog-api-key
# DD_SITE=datadoghq.com
# DD_SERVICE=learnai
# DD_ENV=production

# New Relic
# NEW_RELIC_LICENSE_KEY=your-new-relic-license-key
# NEW_RELIC_APP_NAME=LearnAI Production

# -----------------------------------------------------------------------------
# Webhooks (Optional)
# -----------------------------------------------------------------------------
# For external integrations (Slack notifications, etc.)
WEBHOOK_SECRET=your-webhook-signing-secret
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# -----------------------------------------------------------------------------
# Stripe (Alternative Payment Provider)
# -----------------------------------------------------------------------------
# If using Stripe instead of or in addition to PayPal
# STRIPE_PUBLISHABLE_KEY=pk_live_your_stripe_publishable_key
# STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key
# STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret

# -----------------------------------------------------------------------------
# CDN & Performance (Production)
# -----------------------------------------------------------------------------
# Cloudflare, AWS CloudFront, or Vercel Edge Network
# CDN_URL=https://cdn.yourdomain.com
# ENABLE_IMAGE_OPTIMIZATION=true

# -----------------------------------------------------------------------------
# Backup & Disaster Recovery (Production)
# -----------------------------------------------------------------------------
# Database backup configuration
# BACKUP_S3_BUCKET=learnai-backups
# BACKUP_SCHEDULE=0 2 * * *
# BACKUP_RETENTION_DAYS=30

# =============================================================================
# DEPLOYMENT CHECKLIST
# =============================================================================
# Before deploying to production, verify:
#
# ✅ All required variables are set with production values
# ✅ NEXTAUTH_SECRET is unique and strong (different from dev)
# ✅ DATABASE_URL points to production database with SSL enabled
# ✅ PAYPAL_ENVIRONMENT is set to "live"
# ✅ OAuth redirect URIs include production domain
# ✅ Error tracking (Sentry) is configured
# ✅ Analytics is configured (GA, PostHog, or Vercel Analytics)
# ✅ Email service is configured for transactional emails
# ✅ Rate limiting is enabled (Redis)
# ✅ Database backups are automated
# ✅ Monitoring and alerts are set up
# ✅ SSL/TLS certificates are valid
# ✅ Security headers are configured
# ✅ API keys have billing limits set
#
# =============================================================================
